# /config/models.config.yaml
# Model Tier Assignments for Zeke Agents

version: "1.0"

# Model definitions
models:
  haiku:
    id: "claude-3-haiku-20240307"
    display_name: "Claude 3 Haiku"
    cost_per_mtok_input: 0.25
    cost_per_mtok_output: 1.25
    max_tokens: 4096
    use_for: "Simple classification, routing, extraction"

  sonnet:
    id: "claude-3-5-sonnet-20241022"
    display_name: "Claude 3.5 Sonnet"
    cost_per_mtok_input: 3.00
    cost_per_mtok_output: 15.00
    max_tokens: 8192
    use_for: "Most agents - good balance of capability and cost"

  opus:
    id: "claude-3-opus-20240229"
    display_name: "Claude 3 Opus"
    cost_per_mtok_input: 15.00
    cost_per_mtok_output: 75.00
    max_tokens: 4096
    use_for: "Complex reasoning, nuanced advice, high-stakes decisions"

# Agent model assignments
agents:
  # ============================================
  # HAIKU TIER - Fast, cheap, simple tasks
  # ============================================
  haiku:
    - "lead-qualification"      # Binary scoring
    - "support-triage"          # Classification
    - "content-qa"              # Checklist validation

  # ============================================
  # SONNET TIER - Default for most agents
  # ============================================
  sonnet:
    - "qa"                      # Main Q&A (most queries)
    - "home-profile"            # Profile building
    - "diagnostic"              # Triage (with safety rules)
    - "pro-matching"            # Matching algorithm
    - "product-rec"             # Product recommendations
    - "content-flywheel"        # Pattern identification
    - "content-generation"      # Article writing
    - "inspector-outreach"      # Email personalization
    - "client-handoff"          # Material generation
    - "client-followup"         # Check-in messages
    - "pro-network"             # Network management
    - "email-marketing"         # Email sequences
    - "local-seo"               # SEO optimization
    - "social-media"            # Social engagement
    - "agent-outreach"          # Real estate outreach
    - "customer-success"        # User health
    - "analytics"               # Reporting
    - "memory"                  # Conversation memory
    - "proactive"               # Proactive outreach

  # ============================================
  # OPUS TIER - Complex, nuanced, high-stakes
  # ============================================
  opus:
    - "qa:complex"              # Escalated complex questions
    - "diagnostic:safety"       # Safety-critical assessments
    - "report-ingestion"        # Document understanding
    - "partnership-dev"         # Strategic analysis
    - "report-assistant"        # Professional reports
    - "inspector-qa"            # Inspector expertise

# Escalation rules - when to upgrade model tier
escalation_rules:
  qa:
    upgrade_to_opus:
      - condition: "safety_related"
        description: "Any mention of safety hazards or emergencies"
      - condition: "complex_diagnosis"
        description: "Multi-system issues or unclear root cause"
      - condition: "code_compliance"
        description: "Building codes or permit questions"
      - condition: "high_cost_decision"
        description: "Decisions involving >$5000 potential cost"

  diagnostic:
    upgrade_to_opus:
      - condition: "safety_concern"
        description: "Any potential safety hazard"
      - condition: "structural"
        description: "Foundation, load-bearing, or structural issues"
      - condition: "multiple_symptoms"
        description: "More than 3 symptoms mentioned"

# Token budgets per agent type
token_budgets:
  qa:
    max_input: 4000
    max_output: 2000
    typical_total: 2000

  diagnostic:
    max_input: 3000
    max_output: 1500
    typical_total: 1000

  content-generation:
    max_input: 2000
    max_output: 6000
    typical_total: 4000

  report-ingestion:
    max_input: 20000
    max_output: 5000
    typical_total: 10000

  outreach:
    max_input: 1000
    max_output: 500
    typical_total: 500
